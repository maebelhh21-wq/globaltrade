<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Global Trade Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: linear-gradient(135deg, #667eea, #764ba2); height: 100vh; display: flex; align-items: center; }
        .login-card { border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .tab-content { padding: 2rem; }
        .nav-tabs .nav-link { border: none; color: #6c757d; }
        .nav-tabs .nav-link.active { background: none; border-bottom: 3px solid #0d6efd; color: #0d6efd; }
    </style>
</head>
<body>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card login-card">
                <div class="card-header bg-white">
                    <ul class="nav nav-tabs card-header-tabs" id="loginTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="company-tab" data-bs-toggle="tab" data-bs-target="#company-login">Company Login</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="admin-tab" data-bs-toggle="tab" data-bs-target="#admin-login">Admin Login</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">

                        <!-- Company Login Tab -->
                        <div class="tab-pane fade show active" id="company-login" role="tabpanel">
                            <h4 class="mb-4">Company Access</h4>
                            <form id="companyLoginForm">
                                <div class="mb-3">
                                    <label class="form-label">Username</label>
                                    <input type="text" class="form-control" id="companyUsername" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Password</label>
                                    <input type="password" class="form-control" id="companyPassword" required>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Login to Dashboard</button>
                            </form>
                            <div class="mt-3">
                                <small class="text-muted">No signup available. Credentials provided by admin.</small>
                            </div>
                        </div>

                        <!-- Admin Login Tab -->
                        <div class="tab-pane fade" id="admin-login" role="tabpanel">
                            <h4 class="mb-4">Admin Access</h4>
                            <form id="adminLoginForm">
                                <div class="mb-3">
                                    <label class="form-label">Admin Username</label>
                                    <input type="text" class="form-control" id="adminUsername" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Password</label>
                                    <input type="password" class="form-control" id="adminPassword" required>
                                </div>
                                <button type="submit" class="btn btn-danger w-100">Login to Admin Panel</button>
                            </form>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Initialize default admin
    if (!localStorage.getItem('admin_credentials')) {
        localStorage.setItem('admin_credentials', JSON.stringify({
            username: 'admin',
            password: 'admin123'
        }));
    }

    document.getElementById('companyLoginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('companyUsername').value;
        const password = document.getElementById('companyPassword').value;

        const companies = JSON.parse(localStorage.getItem('companies')) || [];
        const company = companies.find(c => c.username === username && c.password === password);

        if (company) {
            localStorage.setItem('currentCompany', JSON.stringify(company));
            window.location.href = 'dashboard.html';
        } else {
            alert('Invalid company credentials. Contact admin for access.');
        }
    });

    document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('adminUsername').value;
        const password = document.getElementById('adminPassword').value;

        const admin = JSON.parse(localStorage.getItem('admin_credentials'));
        if (username === admin.username && password === admin.password) {
            localStorage.setItem('isAdminLoggedIn', 'true');
            window.location.href = 'dashboard.html?admin=true';
        } else {
            alert('Invalid admin credentials');
        }
    });
</script>

</body>
</html>